"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const app = require("./lib");
const ui_1 = require("./ui");
const container = document.querySelector('.container');
const content = document.querySelector('.content');
const frameTime = 1000 / 40;
const triggerbot = new app.Triggerbot();
(0, ui_1.ui)((x) => {
    container.style.display = 'inherit';
    content.textContent = 'Triggerbot running. Keep this window open.';
    return renderAsync(x);
});
async function renderAsync(core) {
    while (true) {
        const beginTime = Date.now();
        const players = await core.playersAsync();
        const localPlayer = players.find(x => x.isLocal);
        if (localPlayer)
            await triggerbot.updateAsync(localPlayer, players);
        await new Promise(x => setTimeout(x, frameTime - (Date.now() - beginTime)));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJpZ2dlcmJvdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy90cmlnZ2VyYm90LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQTZCO0FBQzdCLDZCQUF3QjtBQUN4QixNQUFNLFNBQVMsR0FBaUIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNyRSxNQUFNLE9BQU8sR0FBaUIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNqRSxNQUFNLFNBQVMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQzVCLE1BQU0sVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLFVBQVUsRUFBRSxDQUFDO0FBR3hDLElBQUEsT0FBRSxFQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDUCxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7SUFDcEMsT0FBTyxDQUFDLFdBQVcsR0FBRyw0Q0FBNEMsQ0FBQztJQUNuRSxPQUFPLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUMsQ0FBQztBQUVILEtBQUssVUFBVSxXQUFXLENBQUMsSUFBYztJQUN2QyxPQUFPLElBQUksRUFBRTtRQUNYLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QixNQUFNLE9BQU8sR0FBRyxNQUFNLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMxQyxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2pELElBQUksV0FBVztZQUFFLE1BQU0sVUFBVSxDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDcEUsTUFBTSxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsU0FBUyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM3RTtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBhcHAgZnJvbSAnLi9saWInO1xuaW1wb3J0IHt1aX0gZnJvbSAnLi91aSc7XG5jb25zdCBjb250YWluZXIgPSA8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbmNvbnN0IGNvbnRlbnQgPSA8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG5jb25zdCBmcmFtZVRpbWUgPSAxMDAwIC8gNDA7XG5jb25zdCB0cmlnZ2VyYm90ID0gbmV3IGFwcC5UcmlnZ2VyYm90KCk7XG5cblxudWkoKHgpID0+IHtcbiAgY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnaW5oZXJpdCc7XG4gIGNvbnRlbnQudGV4dENvbnRlbnQgPSAnVHJpZ2dlcmJvdCBydW5uaW5nLiBLZWVwIHRoaXMgd2luZG93IG9wZW4uJztcbiAgcmV0dXJuIHJlbmRlckFzeW5jKHgpO1xufSk7XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbmRlckFzeW5jKGNvcmU6IGFwcC5Db3JlKSB7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgY29uc3QgYmVnaW5UaW1lID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwbGF5ZXJzID0gYXdhaXQgY29yZS5wbGF5ZXJzQXN5bmMoKTtcbiAgICBjb25zdCBsb2NhbFBsYXllciA9IHBsYXllcnMuZmluZCh4ID0+IHguaXNMb2NhbCk7XG4gICAgaWYgKGxvY2FsUGxheWVyKSBhd2FpdCB0cmlnZ2VyYm90LnVwZGF0ZUFzeW5jKGxvY2FsUGxheWVyLCBwbGF5ZXJzKTtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSh4ID0+IHNldFRpbWVvdXQoeCwgZnJhbWVUaW1lIC0gKERhdGUubm93KCkgLSBiZWdpblRpbWUpKSk7XG4gIH1cbn1cbiJdfQ==